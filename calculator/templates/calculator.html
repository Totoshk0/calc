{% extends 'base.html' %}
{% block content %}

<h1>Калькулятор</h1>

<form method="post" action="{% url 'calculator:calculate' %}">
    {% csrf_token %}

    <input type="number" name="a" step="any" required>

    <select name="operation">
        <option value="+">+</option>
        <option value="-">−</option>
        <option value="*">×</option>
        <option value="/">÷</option>
        <option value="^">xʸ</option>
        <option value="sqrt">√x</option>
    </select>

    <input type="number" name="b">

    <button type="submit">Посчитать</button>
</form>

{% if result is not None %}
<p><strong>Результат:</strong> {{ result }}</p>
{% endif %}

{% if form.errors %}
<p style="color:red;">Ошибка ввода</p>
{% endif %}

<a href="{% url 'calculator:history' %}">История операций</a>

{% endblock %}